# CQRS

## 11.1 단일 모델의 단점

- 여러 애그리거트의 데이터를 가져와 조회 기능을 구현할 때 여러 단점이 존재  
  (성능 저하, 복잡한 네이티브 쿼리 등)  
- 이에 따라 상태 변경을 위한 모델과 조회를 위한 모델을 분리하는 방식이 필요함

---

## 11.2 CQRS (Command Query Responsibility Segregation)

- 상태를 변경하는 명령(Command)을 처리하는 모델과  
  상태를 제공하는 조회(Query)를 처리하는 모델을 분리하는 패턴  
- 컨트롤러에서 바로 DAO를 연결해도 무방하며, 복잡한 로직이 있다면 응용 서비스(Application Service)를 거칠 수 있음  
- 명령 모델과 조회 모델은 서로 다른 데이터베이스를 사용해도 무방함  
- 화면에 맞는 형태로 변환한 데이터를 캐싱할 때 성능상 이점이 있음

### 11.2.2 CQRS 장단점

| 장점 | 단점 |
|-------|-------|
| 명령 모델을 구현할 때 도메인 자체에 집중할 수 있음 | 구현해야 할 코드가 많아짐 |
|  | 더 많은 구현 기술이 필요함 |
|  | 도메인이 복잡하지 않은 경우 비용 대비 이점이 적음 |

